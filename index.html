<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ä—Ç–∞ Minecraft —Å–µ—Ä–≤–µ—Ä–∞</title>
    <base href="http://r14.joinserver.xyz:25994/">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body, html {
            height: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        #loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }
        #dynmap-frame {
            width: 100%;
            height: 100vh;
            border: none;
            background: #f0f0f0;
        }
        .error-message {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffebee;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #f44336;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="loading">
        <h2>üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã...</h2>
        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</p>
    </div>

    <iframe 
        id="dynmap-frame"
        src="http://r14.joinserver.xyz:25994/"
        onload="hideLoading()"
        onerror="showError()"
        allow="fullscreen"
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups">
    </iframe>

    <div id="error-message" class="error-message">
        <h3>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã</h3>
        <p>–ö–∞—Ä—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</p>
        <button onclick="reloadMap()">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É</button>
    </div>

    <script>
        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function showError() {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('error-message').style.display = 'block';
        }

        function reloadMap() {
            document.getElementById('error-message').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('dynmap-frame').src = 
                document.getElementById('dynmap-frame').src;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
        setTimeout(hideLoading, 10000);

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
        window.addEventListener('error', function(e) {
            console.error('–û—à–∏–±–∫–∞:', e.error);
        });

        // –°–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        console.log('DynMap Proxy –∑–∞–≥—Ä—É–∂–µ–Ω');
    </script>
</body>
</html>
